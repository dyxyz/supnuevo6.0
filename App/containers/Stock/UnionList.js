import React, {Component} from 'react';import {    NetInfo,    AppRegistry,    StyleSheet,    TouchableHighlight,    ScrollView,    Image,    Text,    TextInput,    ListView,    View,    Alert,    Modal,    TouchableOpacity,    Platform,    ActivityIndicator,    FlatList} from 'react-native';import {connect} from 'react-redux';import Config from '../../../config';import {setSpText} from '../../utils/ScreenUtil'const Dimensions = require('Dimensions');const {height, width} = Dimensions.get('window');const proxy = require('../../proxy/Proxy');import Icon from 'react-native-vector-icons/FontAwesome';import VentasInfoModal from '../../components/modal/VentasInfoModal'import {setUnionId} from "../../action/actionCreator";class UnionList extends Component {    componentDidMount(): void {        this.getSupnuevoBuyerUnionList();    }    getSupnuevoBuyerUnionList(){        proxy.postes({            url: Config.server + "/func/union/getSupnuevoBuyerUnionList",            headers: {                'Content-Type': 'application/json',            },            body: {            }        }).then((json)=> {            console.log(json)            if(json.re == 1){                this.setState({unionList:json.data})            }        }).catch((err)=>{alert(err);});    }    cancel() {        const {navigator} = this.props;        if (navigator) {            navigator.pop();        }    }    constructor(props) {        super(props);        this.state = {            unionList:null,        }    }    navigateVentas(unionId,unionNum) {        console.log(unionId)        const {dispatch} = this.props;        dispatch(setUnionId({            unionId,            unionNum        }));        this.props.navigator.push({            name: 'VentasInfoModal',            component: VentasInfoModal,            params: {}        })    }    render() {        return (            <ScrollView>                <View style={{flex: 1}}>                    {/*header*/}                    <View style={[{backgroundColor:'#387ef5',padding:4,paddingTop:Platform.OS=='ios'?40:15,justifyContent: 'center',alignItems: 'center',flexDirection:'row'},styles.card]}>                        <View style={{flex:1,paddingLeft:10}}>                        </View>                        <View>                            <Text style={{fontSize: setSpText(20), flex: 3, textAlign: 'center', color: '#fff'}}>                                Supnuevo(6.0)-{this.props.username}                            </Text>                        </View>                        <View style={{flex:1,marginRight:10,flexDirection:'row',justifyContent:'center'}}>                        </View>                    </View>                    <View style={{height: height - 140,}}>                        <View style={{flex: 2}}>                            <FlatList                                data={this.state.unionList}                                renderItem={({item,index})=>this._renderUnionItem(item,index)}                            />                            <View style={{flex: 1}}/>                        </View>                    </View>                </View>            </ScrollView>)    }    _renderUnionItem(rowData,index){        return(            <TouchableOpacity style={[{borderTopWidth: 1}, styles.touch]}                              onPress={() => {                                  this.navigateVentas(rowData.unionId,rowData.unionNum);                              }}>                <Text style={styles.text}>{rowData.unionName}</Text>            </TouchableOpacity>        );    }}var styles = StyleSheet.create({    text: {        fontSize: 20,        paddingLeft: 10,        borderColor: '#DEDEDE',        borderLeftWidth: 1,        marginLeft:5,    },    touch: {        // flex: 1,        height:'auto',        marginRight: 10,        marginLeft: 10,        borderBottomWidth: 1,        alignItems: 'center',        flexDirection: 'row',        borderColor: '#DEDEDE',        padding:10,    },    card: {        borderTopWidth: 0,        borderBottomWidth: 1,        borderBottomColor: 'rgba(0,0,0,0.1)',        shadowColor: '#ccc',        shadowOffset: {width: 2, height: 2,},        shadowOpacity: 0.5,        shadowRadius: 3,    },    preview: {        flex: 1,        justifyContent: 'flex-end',        alignItems: 'center',    },    overlay: {        position: 'absolute',        padding: 16,        right: 0,        left: 0,        alignItems: 'center',    },    box: {        position: 'absolute',        right: 1 / 2 * width - 100,        top: 1 / 2 * height - 100,        height: 200,        width: 200,        borderWidth: 1,        borderColor: '#387ef5',        backgroundColor: 'transparent'    },    bottomOverlay: {        bottom: 0,        backgroundColor: 'rgba(0,0,0,0.4)',        flexDirection: 'row',        justifyContent: 'center',        alignItems: 'center',    },    captureButton: {        padding: 15,        backgroundColor: 'white',        borderRadius: 40,    },    modalContainer: {        flex: 1,        justifyContent: 'center',        padding: 8,    },    modalBackgroundStyle: {        backgroundColor: 'rgba(0,0,0,0.3)'    },});module.exports = connect(state => ({        unionId: state.user.unionId,        merchantId: state.user.supnuevoMerchantId,        username: state.user.username,        supnuevoMerchantId: state.user.supnuevoMerchantId,        sessionId: state.user.sessionId,        unionMemberType:state.user.unionMemberType,    }))(UnionList);